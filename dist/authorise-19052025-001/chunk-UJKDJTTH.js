import{e as _,kb as j,pb as F,t as Y,u as $}from"./chunk-ZLQJDIN4.js";import{Aa as D,Ba as f,Hb as x,Ib as H,Ra as d,Sa as h,Ua as c,Yb as L,dc as y,f as g,jc as A,lc as N,mc as P,oa as T,pa as p,pb as l,ta as M,ua as m,vb as u,za as O}from"./chunk-R4QVWN2J.js";import{h as I}from"./chunk-QDSGMOWV.js";var X=(()=>{let i=class i{constructor(t){this.http=t,this.getCategoriesResponse$=new g,this.createCategoryResponse$=new g,this.createSubcategoryResponse$=new g,this.getCategoryResponse$=new g}getCategory(t){this.http.get("http://192.168.1.106:7000/authorize/master/categories?id="+t).subscribe(r=>{this.getCategoryResponse$.next(r)})}getCategories(){this.http.get("http://192.168.1.106:7000/authorize/master/categories").subscribe(t=>{this.getCategoriesResponse$.next(t)})}createCategory(t){this.http.post("http://192.168.1.106:7000/authorize/master/categories",t).subscribe(r=>{this.createCategoryResponse$.next(r)})}createSubcategory(t){this.http.post("http://192.168.1.106:7000/authorize/master/categories/subcategory",t).subscribe(r=>{this.createSubcategoryResponse$.next(r)})}};i.\u0275fac=function(r){return new(r||i)(M(_))},i.\u0275prov=T({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var ge=(()=>{let i=class i{constructor(t,r){this.routingService=t,this.categoriesService=r,this.loadingText="Loading your information",this.loadingInfo="Please wait as we gather your information",this.loadingComplete=!1,this.subs=new $}ngOnInit(){this.getCategories(),this.subs.add=this.categoriesService.getCategoriesResponse$.subscribe(t=>{if(t.success){this.categories=t.data;for(let r of t.data)this.addCategory(r)}else console.log("Failed to get categories")}),setTimeout(()=>{this.loadingComplete=!0,this.loadingText="Success",this.loadingInfo="Information loading successfully"},5e3),setTimeout(()=>{console.log("Done"),this.routingService.navigateByUrl("/authorise")},1e3)}getCategories(){this.categoriesService.getCategories()}addCategory(t){return I(this,null,function*(){yield Y.categories.add({id:t.id,name:t.name,subCategories:t.subCategories})})}ngOnDestroy(){this.subs.dispose()}};i.\u0275fac=function(r){return new(r||i)(l(j),l(X))},i.\u0275cmp=O({type:i,selectors:[["app-preloader"]],decls:1,vars:3,consts:[[3,"loadingText","loadingInfo","loadingComplete"]],template:function(r,o){r&1&&L(0,"app-loader-full-page",0),r&2&&H("loadingText",o.loadingText)("loadingInfo",o.loadingInfo)("loadingComplete",o.loadingComplete)},dependencies:[F]});let n=i;return n})();var B=["move","copy","link"],E="application/x-dnd",C="application/json",b="Text";function Z(n){return n.substr(0,E.length)===E}function V(n){if(n.dataTransfer){let i=n.dataTransfer.types;if(!i)return b;for(let e=0;e<i.length;e++)if(i[e]===b||i[e]===C||Z(i[e]))return i[e]}return null}function J(n,i,e){let t=E+(i.type?"-"+i.type:""),r=JSON.stringify(i);try{n.dataTransfer?.setData(t,r)}catch{try{n.dataTransfer?.setData(C,r)}catch{let q=v(B,e);n.dataTransfer&&(n.dataTransfer.effectAllowed=q[0]),n.dataTransfer?.setData(b,r)}}}function Q(n,i){let e=V(n);return i===!0?e!==null&&Z(e)?JSON.parse(n.dataTransfer?.getData(e)??"{}"):{}:e!==null?JSON.parse(n.dataTransfer?.getData(e)??"{}"):{}}function v(n,i){return i==="all"||i==="uninitialized"?n:n.filter(function(e){return i.toLowerCase().indexOf(e)!==-1})}function K(n,i){let e=i;for(;e.parentNode!==n;){if(!e.parentNode)return null;e=e.parentNode}return e}function ee(n,i,e){let t=i.getBoundingClientRect();return e?n.clientX<t.left+t.width/2:n.clientY<t.top+t.height/2}function te(n,i){let e=window.getComputedStyle(i),t=parseFloat(e.paddingTop)||0,r=parseFloat(e.paddingLeft)||0,o=parseFloat(e.borderTopWidth)||0,a=parseFloat(e.borderLeftWidth)||0;return{x:n.offsetX+r+a,y:n.offsetY+t+o}}function ne(n,i,e){let t=e(n,i)||{x:0,y:0};n.dataTransfer.setDragImage(i,t.x,t.y)}var s={isDragging:!1,dropEffect:"none",effectAllowed:"all",type:void 0};function ie(n,i,e){s.isDragging=!0,s.dropEffect="none",s.effectAllowed=i,s.type=e,n.dataTransfer&&(n.dataTransfer.effectAllowed=i)}function G(){s.isDragging=!1,s.dropEffect=void 0,s.effectAllowed=void 0,s.type=void 0}function z(n,i){s.isDragging===!0&&(s.dropEffect=i),n.dataTransfer&&(n.dataTransfer.dropEffect=i)}function U(n,i){let e=n.dataTransfer?n.dataTransfer.effectAllowed:"uninitialized",t=v(B,e);return s.isDragging===!0&&(t=v(t,s.effectAllowed)),i&&(t=v(t,i)),t.length===0?"none":n.ctrlKey&&t.indexOf("copy")!==-1?"copy":n.altKey&&t.indexOf("link")!==-1?"link":t[0]}function w(n){if(s.isDragging===!0)return s.type;let i=V(n);if(i!==null&&!(i===b||i===C))return i.substr(E.length+1)||void 0}function S(){return s.isDragging===!1}var k=s;var ze=(()=>{class n{dndDraggable;dndEffectAllowed="copy";dndType;dndDraggingClass="dndDragging";dndDraggingSourceClass="dndDraggingSource";dndDraggableDisabledClass="dndDraggableDisabled";dndDragImageOffsetFunction=te;dndStart=new d;dndDrag=new d;dndEnd=new d;dndMoved=new d;dndCopied=new d;dndLinked=new d;dndCanceled=new d;draggable=!0;dndHandle;dndDragImageElementRef;dragImage;isDragStarted=!1;elementRef=m(c);renderer=m(u);ngZone=m(h);set dndDisableIf(e){this.draggable=!e,this.draggable?this.renderer.removeClass(this.elementRef.nativeElement,this.dndDraggableDisabledClass):this.renderer.addClass(this.elementRef.nativeElement,this.dndDraggableDisabledClass)}set dndDisableDragIf(e){this.dndDisableIf=e}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.elementRef.nativeElement.addEventListener("drag",this.dragEventHandler)})}ngOnDestroy(){this.elementRef.nativeElement.removeEventListener("drag",this.dragEventHandler),this.isDragStarted&&G()}onDragStart(e){if(!this.draggable)return!1;if(this.dndHandle!=null&&e._dndUsingHandle==null)return e.stopPropagation(),!1;ie(e,this.dndEffectAllowed,this.dndType),this.isDragStarted=!0,J(e,{data:this.dndDraggable,type:this.dndType},k.effectAllowed),this.dragImage=this.determineDragImage(),this.renderer.addClass(this.dragImage,this.dndDraggingClass),(this.dndDragImageElementRef!=null||e._dndUsingHandle!=null)&&ne(e,this.dragImage,this.dndDragImageOffsetFunction);let t=this.renderer.listen(this.elementRef.nativeElement,"drag",()=>{this.renderer.addClass(this.elementRef.nativeElement,this.dndDraggingSourceClass),t()});return this.dndStart.emit(e),e.stopPropagation(),setTimeout(()=>{this.isDragStarted&&this.renderer.setStyle(this.dragImage,"pointer-events","none")},100),!0}onDrag(e){this.dndDrag.emit(e)}onDragEnd(e){if(!this.draggable||!this.isDragStarted)return;let t=k.dropEffect;this.renderer.setStyle(this.dragImage,"pointer-events","unset");let r;switch(t){case"copy":r=this.dndCopied;break;case"link":r=this.dndLinked;break;case"move":r=this.dndMoved;break;default:r=this.dndCanceled;break}r.emit(e),this.dndEnd.emit(e),G(),this.isDragStarted=!1,this.renderer.removeClass(this.dragImage,this.dndDraggingClass),window.setTimeout(()=>{this.renderer.removeClass(this.elementRef.nativeElement,this.dndDraggingSourceClass)},0),e.stopPropagation()}registerDragHandle(e){this.dndHandle=e}registerDragImage(e){this.dndDragImageElementRef=e}dragEventHandler=e=>this.onDrag(e);determineDragImage(){return typeof this.dndDragImageElementRef<"u"?this.dndDragImageElementRef.nativeElement:this.elementRef.nativeElement}static \u0275fac=function(t){return new(t||n)};static \u0275dir=f({type:n,selectors:[["","dndDraggable",""]],hostVars:1,hostBindings:function(t,r){t&1&&y("dragstart",function(a){return r.onDragStart(a)})("dragend",function(a){return r.onDragEnd(a)}),t&2&&x("draggable",r.draggable)},inputs:{dndDraggable:"dndDraggable",dndEffectAllowed:"dndEffectAllowed",dndType:"dndType",dndDraggingClass:"dndDraggingClass",dndDraggingSourceClass:"dndDraggingSourceClass",dndDraggableDisabledClass:"dndDraggableDisabledClass",dndDragImageOffsetFunction:"dndDragImageOffsetFunction",dndDisableIf:"dndDisableIf",dndDisableDragIf:"dndDisableDragIf"},outputs:{dndStart:"dndStart",dndDrag:"dndDrag",dndEnd:"dndEnd",dndMoved:"dndMoved",dndCopied:"dndCopied",dndLinked:"dndLinked",dndCanceled:"dndCanceled"},standalone:!0})}return n})(),re=(()=>{class n{elementRef;constructor(e){this.elementRef=e}ngOnInit(){this.elementRef.nativeElement.style.pointerEvents="none"}static \u0275fac=function(t){return new(t||n)(l(c))};static \u0275dir=f({type:n,selectors:[["","dndPlaceholderRef",""]],standalone:!0})}return n})(),we=(()=>{class n{ngZone;elementRef;renderer;dndDropzone="";dndEffectAllowed="uninitialized";dndAllowExternal=!1;dndHorizontal=!1;dndDragoverClass="dndDragover";dndDropzoneDisabledClass="dndDropzoneDisabled";dndDragover=new d;dndDrop=new d;dndPlaceholderRef;placeholder=null;disabled=!1;constructor(e,t,r){this.ngZone=e,this.elementRef=t,this.renderer=r}set dndDisableIf(e){this.disabled=e,this.disabled?this.renderer.addClass(this.elementRef.nativeElement,this.dndDropzoneDisabledClass):this.renderer.removeClass(this.elementRef.nativeElement,this.dndDropzoneDisabledClass)}set dndDisableDropIf(e){this.dndDisableIf=e}ngAfterViewInit(){this.placeholder=this.tryGetPlaceholder(),this.removePlaceholderFromDOM(),this.ngZone.runOutsideAngular(()=>{this.elementRef.nativeElement.addEventListener("dragenter",this.dragEnterEventHandler),this.elementRef.nativeElement.addEventListener("dragover",this.dragOverEventHandler),this.elementRef.nativeElement.addEventListener("dragleave",this.dragLeaveEventHandler)})}ngOnDestroy(){this.elementRef.nativeElement.removeEventListener("dragenter",this.dragEnterEventHandler),this.elementRef.nativeElement.removeEventListener("dragover",this.dragOverEventHandler),this.elementRef.nativeElement.removeEventListener("dragleave",this.dragLeaveEventHandler)}onDragEnter(e){if(e._dndDropzoneActive===!0){this.cleanupDragoverState();return}if(e._dndDropzoneActive==null){let r=document.elementFromPoint(e.clientX,e.clientY);this.elementRef.nativeElement.contains(r)&&(e._dndDropzoneActive=!0)}let t=w(e);this.isDropAllowed(t)&&e.preventDefault()}onDragOver(e){if(e.defaultPrevented)return;let t=w(e);if(!this.isDropAllowed(t))return;this.checkAndUpdatePlaceholderPosition(e);let r=U(e,this.dndEffectAllowed);if(r==="none"){this.cleanupDragoverState();return}e.preventDefault(),z(e,r),this.dndDragover.emit(e),this.renderer.addClass(this.elementRef.nativeElement,this.dndDragoverClass)}onDrop(e){try{let t=w(e);if(!this.isDropAllowed(t))return;let r=Q(e,S());if(!this.isDropAllowed(r.type))return;e.preventDefault();let o=U(e);if(z(e,o),o==="none")return;let a=this.getPlaceholderIndex();if(a===-1)return;this.dndDrop.emit({event:e,dropEffect:o,isExternal:S(),data:r.data,index:a,type:t}),e.stopPropagation()}finally{this.cleanupDragoverState()}}onDragLeave(e){if(e.preventDefault(),e.stopPropagation(),e._dndDropzoneActive==null&&this.elementRef.nativeElement.contains(e.relatedTarget)){e._dndDropzoneActive=!0;return}this.cleanupDragoverState(),z(e,"none")}dragEnterEventHandler=e=>this.onDragEnter(e);dragOverEventHandler=e=>this.onDragOver(e);dragLeaveEventHandler=e=>this.onDragLeave(e);isDropAllowed(e){if(this.disabled||S()&&!this.dndAllowExternal)return!1;if(!this.dndDropzone||!e)return!0;if(!Array.isArray(this.dndDropzone))throw new Error("dndDropzone: bound value to [dndDropzone] must be an array!");return this.dndDropzone.indexOf(e)!==-1}tryGetPlaceholder(){return typeof this.dndPlaceholderRef<"u"?this.dndPlaceholderRef.elementRef.nativeElement:this.elementRef.nativeElement.querySelector("[dndPlaceholderRef]")}removePlaceholderFromDOM(){this.placeholder!==null&&this.placeholder.parentNode!==null&&this.placeholder.parentNode.removeChild(this.placeholder)}checkAndUpdatePlaceholderPosition(e){if(this.placeholder===null)return;this.placeholder.parentNode!==this.elementRef.nativeElement&&this.renderer.appendChild(this.elementRef.nativeElement,this.placeholder);let t=K(this.elementRef.nativeElement,e.target);if(t===null||t===this.placeholder)return;ee(e,t,this.dndHorizontal)?t.previousSibling!==this.placeholder&&this.renderer.insertBefore(this.elementRef.nativeElement,this.placeholder,t):t.nextSibling!==this.placeholder&&this.renderer.insertBefore(this.elementRef.nativeElement,this.placeholder,t.nextSibling)}getPlaceholderIndex(){if(this.placeholder===null)return;let e=this.elementRef.nativeElement;return Array.prototype.indexOf.call(e.children,this.placeholder)}cleanupDragoverState(){this.renderer.removeClass(this.elementRef.nativeElement,this.dndDragoverClass),this.removePlaceholderFromDOM()}static \u0275fac=function(t){return new(t||n)(l(h),l(c),l(u))};static \u0275dir=f({type:n,selectors:[["","dndDropzone",""]],contentQueries:function(t,r,o){if(t&1&&A(o,re,5),t&2){let a;N(a=P())&&(r.dndPlaceholderRef=a.first)}},hostBindings:function(t,r){t&1&&y("drop",function(a){return r.onDrop(a)})},inputs:{dndDropzone:"dndDropzone",dndEffectAllowed:"dndEffectAllowed",dndAllowExternal:"dndAllowExternal",dndHorizontal:"dndHorizontal",dndDragoverClass:"dndDragoverClass",dndDropzoneDisabledClass:"dndDropzoneDisabledClass",dndDisableIf:"dndDisableIf",dndDisableDropIf:"dndDisableDropIf"},outputs:{dndDragover:"dndDragover",dndDrop:"dndDrop"},standalone:!0})}return n})();var Se=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=D({type:n});static \u0275inj=p({})}return n})();var Te=typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;var Me=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});var Oe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=D({type:n}),n.\u0275inj=p({}),n})();export{X as a,ge as b,ze as c,re as d,we as e,Se as f,Oe as g};
