<nz-layout>
  <nz-sider [nzCollapsed]="true">
    <div class="isupport-side-nav-children">
      <div class="side-nav-logo">
        <afc-logo-mark />
        <!--        <afc-logo-mark-white />-->
      </div>
      <ul nz-menu nzTheme="dark" nzMode="inline" class="sider-menu">
        <li
          routerLink="/authorise/workspace"
          routerLinkActive="ant-menu-item-selected"
          nz-menu-item
          nzTooltipTitle="Workspace"
          nzTooltipPlacement="right"
          nz-tooltip
        >
          <span nz-icon>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="1.4em"
              height="1.4em"
              viewBox="0 0 24 24"
            >
              <path
                fill="currentColor"
                d="M10 2h4c3.771 0 5.657 0 6.828 1.172C22 4.343 22 6.229 22 10v1c0 .552 0 1.55-.006 2H2.007C2 12.55 2 11.552 2 11v-1c0-3.771 0-5.657 1.172-6.828C4.343 2 6.229 2 10 2"
                opacity="0.5"
              />
              <path
                fill="currentColor"
                d="M7.985 17.5c-2.84 0-4.26 0-5.141-.879C2.272 16.052 2.07 15.258 2 14v-1h20v1c-.07 1.258-.272 2.052-.844 2.621c-.882.879-2.301.879-5.14.879h-3.263v4h3.262c.416 0 .753.336.753.75s-.337.75-.753.75h-8.03a.751.751 0 0 1-.753-.75c0-.414.337-.75.753-.75h3.262v-4z"
              />
            </svg>
          </span>
        </li>
        <li
          routerLink="/authorise/documents"
          routerLinkActive="ant-menu-item-selected"
          nz-menu-item
          nzTooltipTitle="Documents"
          nzTooltipPlacement="right"
          nz-tooltip
        >
          <span nz-icon>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="1.4em"
              height="1.4em"
              viewBox="0 0 24 24"
            >
              <path
                fill="currentColor"
                d="M3 10c0-3.771 0-5.657 1.172-6.828C5.343 2 7.229 2 11 2h2c3.771 0 5.657 0 6.828 1.172C21 4.343 21 6.229 21 10v4c0 3.771 0 5.657-1.172 6.828C18.657 22 16.771 22 13 22h-2c-3.771 0-5.657 0-6.828-1.172C3 19.657 3 17.771 3 14z"
                opacity="0.5"
              />
              <path
                fill="currentColor"
                d="M16.519 16.501c.175-.136.334-.295.651-.612l3.957-3.958c.096-.095.052-.26-.075-.305a4.332 4.332 0 0 1-1.644-1.034a4.332 4.332 0 0 1-1.034-1.644c-.045-.127-.21-.171-.305-.075L14.11 12.83c-.317.317-.476.476-.612.651c-.161.207-.3.43-.412.666c-.095.2-.166.414-.308.84l-.184.55l-.292.875l-.273.82a.584.584 0 0 0 .738.738l.82-.273l.875-.292l.55-.184c.426-.142.64-.212.84-.308c.236-.113.46-.25.666-.412m5.849-5.809a2.163 2.163 0 1 0-3.06-3.059l-.126.128a.524.524 0 0 0-.148.465c.02.107.055.265.12.452c.13.375.376.867.839 1.33a3.5 3.5 0 0 0 1.33.839c.188.065.345.1.452.12a.525.525 0 0 0 .465-.148z"
              />
              <path
                fill="currentColor"
                fill-rule="evenodd"
                d="M7.25 9A.75.75 0 0 1 8 8.25h6.5a.75.75 0 0 1 0 1.5H8A.75.75 0 0 1 7.25 9m0 4a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75m0 4a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75"
                clip-rule="evenodd"
              />
            </svg>
          </span>
        </li>
        <!--        <li routerLink="/authorise/templates" routerLinkActive="ant-menu-item-selected" nz-menu-item nzTooltipTitle="Templates" nzTooltipPlacement="right" nz-tooltip>-->
        <!--          <span nz-icon>-->
        <!--            <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3.358 12.779c-.61.941-.358 2.25.145 4.868c.363 1.885.544 2.827 1.172 3.452c.163.162.346.306.544.429C5.982 22 6.995 22 9.022 22h6.956c2.027 0 3.04 0 3.803-.472a3.07 3.07 0 0 0 .544-.429c.628-.625.81-1.567 1.172-3.452c.503-2.618.755-3.927.145-4.868a2.938 2.938 0 0 0-.57-.646c-.87-.735-2.279-.735-5.094-.735H9.022c-2.815 0-4.223 0-5.094.735a2.937 2.937 0 0 0-.57.646m6.337 4.402c0-.4.343-.723.765-.723h4.08c.422 0 .765.323.765.723c0 .399-.343.723-.765.723h-4.08c-.422 0-.765-.324-.765-.723" clip-rule="evenodd"/><path fill="currentColor" d="M3.576 12.485a3 3 0 0 1 .352-.352c.87-.735 2.279-.735 5.094-.735h6.956c2.815 0 4.223 0 5.094.735c.128.108.246.226.353.353v-2.73c0-.91 0-1.663-.086-2.264c-.09-.635-.286-1.197-.755-1.66a3.082 3.082 0 0 0-.242-.214c-.512-.408-1.125-.575-1.82-.652c-.669-.074-1.512-.074-2.545-.074h-.353c-.982 0-1.334-.006-1.653-.087a2.718 2.718 0 0 1-.536-.196c-.284-.14-.532-.351-1.227-.968l-.474-.42c-.2-.176-.335-.296-.48-.403a4.29 4.29 0 0 0-2.183-.803A8.075 8.075 0 0 0 8.414 2h-.117c-.64 0-1.063 0-1.43.061c-1.605.268-2.903 1.39-3.22 2.875c-.071.337-.071.724-.07 1.283z" opacity="0.5"/></svg>-->
        <!--          </span>-->
        <!--        </li>-->
        <!--        <li routerLink="/authorise/reports" nz-menu-item nzTooltipTitle="Reports" nzTooltipPlacement="right" nz-tooltip>-->
        <!--          <span nz-icon>-->
        <!--            <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M14 22h-4c-3.771 0-5.657 0-6.828-1.172C2 19.657 2 17.771 2 14v-4c0-3.771 0-5.657 1.172-6.828C4.343 2 6.239 2 10.03 2c.606 0 1.091 0 1.5.017c-.013.08-.02.161-.02.244l-.01 2.834c0 1.097 0 2.067.105 2.848c.114.847.375 1.694 1.067 2.386c.69.69 1.538.952 2.385 1.066c.781.105 1.751.105 2.848.105h4.052c.043.534.043 1.19.043 2.063V14c0 3.771 0 5.657-1.172 6.828C19.657 22 17.771 22 14 22" clip-rule="evenodd" opacity="0.5"/><path fill="currentColor" d="M6 13.75a.75.75 0 0 0 0 1.5h8a.75.75 0 0 0 0-1.5zm0 3.5a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5zm5.51-14.99l-.01 2.835c0 1.097 0 2.066.105 2.848c.114.847.375 1.694 1.067 2.385c.69.691 1.538.953 2.385 1.067c.781.105 1.751.105 2.848.105h4.052c.013.155.022.321.028.5H22c0-.268 0-.402-.01-.56a5.322 5.322 0 0 0-.958-2.641c-.094-.128-.158-.204-.285-.357C19.954 7.494 18.91 6.312 18 5.5c-.81-.724-1.921-1.515-2.89-2.161c-.832-.556-1.248-.834-1.819-1.04a5.488 5.488 0 0 0-.506-.154c-.384-.095-.758-.128-1.285-.14z"/></svg>-->
        <!--          </span>-->
        <!--        </li>-->
        <li
          routerLink="/authorise/self-service-admin"
          routerLinkActive="ant-menu-item-selected"
          nz-menu-item
          nzTooltipTitle="Self Service Admin"
          nzTooltipPlacement="right"
          nz-tooltip
        >
          <span nz-icon>
            <svg xmlns="http://www.w3.org/2000/svg" width="1.4em" height="1.4em" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="m6.72 10.6l1.439 1.2c1.836 1.53 2.755 2.295 3.84 2.295c1.087 0 2.005-.765 3.842-2.296l1.44-1.2c.353-.294.53-.442.624-.643c.095-.202.095-.432.095-.893V7q0-.48-.002-.898c-.012-1.771-.098-2.737-.73-3.37C16.535 2 15.357 2 13 2h-2c-2.357 0-3.536 0-4.268.732c-.633.633-.72 1.599-.732 3.37v2.961c0 .46 0 .691.094.893c.095.201.272.349.625.644M9.25 6a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4A.75.75 0 0 1 9.25 6m1 3a.75.75 0 0 1 .75-.75h2a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1-.75-.75" clip-rule="evenodd"/><path fill="currentColor" d="m8.159 11.8l-1.44-1.2c-.353-.295-.53-.442-.625-.644S6 9.524 6 9.064V6.102c-1.3.128-2.175.417-2.828 1.07C2 8.343 2 10.23 2 14.002c0 3.77 0 5.656 1.172 6.827S6.229 22.002 10 22.002h4c3.771 0 5.657 0 6.828-1.172S22 17.773 22 14.002s0-5.658-1.172-6.83c-.653-.653-1.529-.942-2.83-1.07q.002.42.002.9v2.063c0 .46 0 .69-.095.892c-.094.202-.27.35-.625.644l-1.44 1.2c-1.836 1.53-2.754 2.295-3.84 2.295S9.995 13.33 8.159 11.8" opacity="0.5"/></svg>
          </span>
        </li>

        <li
        routerLink="/authorise/preferences"
        routerLinkActive="ant-menu-item-selected"
        nz-menu-item
        nzTooltipTitle="Preferences"
        nzTooltipPlacement="right"
        nz-tooltip
      >
        <span nz-icon>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="1.4em"
            height="1.4em"
            viewBox="0 0 24 24"
          >
            <circle cx="12" cy="6" r="4" fill="currentColor" />
            <path
              fill="currentColor"
              d="M20 17.5c0 2.485 0 4.5-8 4.5s-8-2.015-8-4.5S7.582 13 12 13s8 2.015 8 4.5"
              opacity="0.5"
            />
          </svg>
        </span>
      </li>

        <li
          *ngIf="isAdmin"
          routerLink="/authorise/admin"
          routerLinkActive="ant-menu-item-selected"
          nz-menu-item
          nzTooltipTitle="Admin"
          nzTooltipPlacement="right"
          nz-tooltip
        >
          <span nz-icon>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="1.4em"
              height="1.4em"
              viewBox="0 0 24 24"
            >
              <path
                fill="currentColor"
                d="M3 10.417c0-3.198 0-4.797.378-5.335c.377-.537 1.88-1.052 4.887-2.081l.573-.196C10.405 2.268 11.188 2 12 2c.811 0 1.595.268 3.162.805l.573.196c3.007 1.029 4.51 1.544 4.887 2.081C21 5.62 21 7.22 21 10.417v1.574c0 5.638-4.239 8.375-6.899 9.536C13.38 21.842 13.02 22 12 22s-1.38-.158-2.101-.473C7.239 20.365 3 17.63 3 11.991z"
                opacity="0.5"
              />
              <path
                fill="currentColor"
                d="M13.5 15a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1.401A2.999 2.999 0 0 1 12 8a3 3 0 0 1 1.5 5.599z"
              />
            </svg>
          </span>
        </li>
      </ul>
      <div
        class="ant-menu-item-bottom d-flex justify-content-center"
        style="padding: 20px; margin-bottom: 20px"
      >
        <nz-avatar
        [nzText]="user.email.substring(0, 2).toUpperCase()"
          style="color: #f56a00; background-color: #fde3cf"
          nz-dropdown
          [nzDropdownMenu]="menu"
          nzPlacement="topLeft"
        ></nz-avatar>
      </div>
      <nz-dropdown-menu #menu="nzDropdownMenu">
        <ul nz-menu>
          <li nz-menu-item>{{user.name}}</li>
          <li nz-menu-item (click)="openUserPreferences()">Preferences</li>
          <li nz-menu-item (click)="logout()">Logout</li>
        </ul>
      </nz-dropdown-menu>
    </div>
  </nz-sider>
  <nz-layout class="right-layout">
    <nz-content>
      <div class="container-fluid h-100">
        <router-outlet></router-outlet>
      </div>
    </nz-content>
    <nz-footer (click)="showModal()" class="authorise-app-footer"
      >Flexi Doc &copy; {{ currentDate | date: "yyyy" }} Implementation By AFC
      Holdings - v2.0.1</nz-footer>
  </nz-layout>
</nz-layout>

<nz-modal
  [(nzVisible)]="isVisible"
  [nzTitle]="modalTitle"
  [nzContent]="modalContent"
  [nzFooter]="modalFooter"
  (nzOnCancel)="handleCancel()"
>
  <ng-template #modalTitle></ng-template>

  <ng-template #modalContent>
    <div class="d-flex justify-content-center">
      <afc-logo-mark />
    </div>
    <div class="d-flex justify-content-center">
      <h1>Flexi Doc</h1>
    </div>
    <div class="d-flex justify-content-center">
      <p>Version 2.0.1</p>
    </div>
    <div class="d-flex justify-content-center">
      <p>™ and &copy; {{ currentDate | date: "yyyy" }} AFC Holdings</p>
    </div>
    <div class="d-flex justify-content-center">
      <p>All Rights Reserved.</p>
    </div>
  </ng-template>

  <ng-template #modalFooter></ng-template>
</nz-modal>
